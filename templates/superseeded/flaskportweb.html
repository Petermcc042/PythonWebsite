<!DOCTYPE html>

<html>
  <body>
    <head>
        <meta charset="utf-8" />
        <meta name="generator" content="pandoc" />
        <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

        <link rel="icon" href="/t2logo.png">
        
        <title>Create a Portfolio Website With Flask</title>
                
        <!--my custom css files-->
        <link rel="stylesheet" href="{{url_for('static', filename='css/mynavbar.css')}}" type="text/css">
        <link rel="stylesheet" href="{{url_for('static', filename='css/genericpage.css')}}" type="text/css">

        <!-- icons -->
        <link href="../static/site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
        <link href="../static/site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

        <!-- inline code highlighting -->
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/styles/night-owl.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
        <script>hljs.highlightAll();</script>

        <!-- fonts - standard -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
    
        <link rel="icon" type="image/png" href="glasses.ico"/>



        <link rel="stylesheet" href="{{url_for('static', filename='css/hero_threeProjects.css')}}" type="text/css">
    </head>
    
    <header>
      <div class="navbar">
        <a href="{{ url_for('home') }}" class="logo"><span class="fas fa-home"></span>  Home</a>
        <!--link to tutorial menu-->
        <a href="{{ url_for('tutorials_list') }}"><span class="fas fa-book-open"></span>   Tutorials 2</a>
        <!--Begining of List Menu-->
        <div class="navbar-right">
          <a href="{{ url_for('cv') }}" class="logo"><span class="fas fa-address-card"></span>  About</a>
          <a href="https://github.com/Petermcc042" target="_blank"><span class="fa fa fa fa-github"></span></a>
          <a href="https://www.linkedin.com/in/petermcclintock/" target="_blank"><span class="fa fa fa fa-linkedin"></span></a>
          <a href="https://www.instagram.com/pedromcc17/" target="_blank"><span class="fa fa fa fa-instagram"></span></a>
        </div>
      </div>
    </header>

    <section>
      <div class="main-container">

        <body>
          <div id="header">
            <h1 class="title toc-ignore"><strong>Create a Portfolio Website using Flask</strong></h1>
          </div>
        
        
          <div id="Name" class="section level1">
            <h4>Peter McClintock</h4>
            <h4>12/10/2021</h4>
          </div>
          
          <div id="overview" class="section level1">
            <h1>Overview</h1>
            <ul>
              <li>The goal of this tutorial is to create a basic portfolio website using Flask</li>
              <li>Languages used in this project are, Python, HTML, and CSS</li>
              <li>Other key skills are git integration and deploying websites using Heroku</li>
            </ul>
          </div>
        
          <div id="project setup" class="section level1">
            <h1>Setup</h1>
            <div id="folder-setup" class="section level2">
              <h2>Folder Setup</h2>
              <p>
                Create a main project folder, I have called mine (flask tutorial). Within this, create another folder that will contain the main files of the website, I have 
                named mine mysite. For the sake of the tutorial it may be easier to follow this naming convention so as to not confuse directories. Within the mysite folder 
                another two folders are created, static and templates.
              </p>
              <p>
                The static folder will contain files such as css and images, while the templates folder will be used to store the actual html files for each page. This is default 
                notation for flask.
              </p>
            </div>
        
            <div id="instalation" class="section level2">
              <h2>Python Instalation</h2>
              <p>
                To check if you have Python already installed open command prompt and type python or py and hit enter. The build version of python should return if installed.
                The version of python that this tutorial is built on is python 3.9.7 and hopefully future updates will not wreck any of the tutorial.
                If you do not have python installed a quick google search should direct you to the main website to download it. For the tutorial we are using the Windows Installer
                (64-bit) version.
              </p>
              <div id="virtenv note" class="notebox">
                <h2>Virtual Environment</h2>
                <p>
                  A virtual environment acts as a separate version of python, libraries and scripts installed into it are isolated from any libraries installed in a “system” Python,
                   i.e., one which is installed as part of your operating system.
                </p>
              </div>
              <p>
                As is good practice we will be setting up virtual environment for this project. The virtual environment package can be installed through the command line using
                <code>py -m pip install virtualenv</code>. Using command line again we set the path to whichever folder you are completing this project in. You can navigate to your 
                project folder using <code>C:\your_standard_file_path> cd folder-name\folder-name\project-folder-name</code> . In my case this is 
                <code>C:\users\pmcc> cd documents\projects\flask tutorial</code>. Now you can run the code <code>py -m venv virtual</code> to setup the virtual environment folder.
              </p>
              <p>To install any packages in the virtual environment we can use the command below subsituting package-name with our desired package, i.e. flask.</p>
              <pre><code>C:\your_standard_file_path\flask tutorial> virtual\Scripts\pip install package-name</code></pre>
              <p>The packages needed for this project are;</p>
              <p>
                <ul>flask</ul>
                <ul>gunicorn</ul>
              </p>
              <p>To check that packages have been installed you can check what packages are in the environment using the command below.</p>
              <pre><code>C:\your_standard_file_path\flask tutorial> virtual\Scripts\pip freeze</code></pre>
        
              <h2>Visual Studio Code</h2>
              <p>To begin working on the project we first need to setup our workspace. For the project I will be using Microsoft Visual Studio Code as it allows easy switching
                between the different file types. VS is free can be easily installed from their website. Be sure to install visual studio code and not the similarly named
              Visual Studio 2019</p>
            </div>
          </div>
        
          <div id="Coding" class="section level1">
            <h1>The Code</h1>
            <div id="flask-intro" class="section level2">
              <h2>Flask Starter Code</h2>
              <p>Finally we get to write some code! Thankfully, Flask requires relatively little code to setup. Opening our project folder (flask tutorial) in visual studio code 
                create a file named script.py in the mysite folder. This is the base script that links all of our files together. Below I have included the code for this page. 
              </p>
        
              <pre><code class="language-python">
                from flask import Flask, render_template
        
                app = Flask(__name__)
                
                @app.route('/')
                def home():
                    return render_template("home.html")
                
                @app.route('/cv/')
                def cv():
                    return render_template("cv.html")
                
                @app.route('/project1/')
                def project1():
                    return render_template("project1.html")
                
                @app.route('/project2/')
                def project2():
                    return render_template("project2.html")
                
                if __name__ == "__main__":
                    app.run(debug=True)
              </code></pre>
        
              <p>
                The code starts by importing flask and the render_template libraries. The next step is to create an instance using the <code>Flask()</code>Flask() command.
                We use <code>__name__</code> as default for the name of this application. The <code>@app.route()</code> is triggered when that specific URL is entered. 
                In our case when running locally when http://localhost:5000/ , likewise, http://127.0.0.1:5000/ is called, it shall trigger the <code>home():</code> function returning 
                our home.html page. Likewise when we call localhost:5000/cv/ it shall then call our cv.html page. Finally, the if statement is used so that we can update the 
                page live while making changes in the editor.
              </p>
            </div>
        
            <div id="template-html" class="section level2">
              <h2>Flask Templates</h2>
              <p>One of the great benefits of Flask is that it is very easy to create templates for each of your separate pages. This is good for a consistent theme and cuts out a lot 
                of uneccessary coding. Templates are normal html files with a section missing. We can then create other html files to slot into these missing sections. For example, create
                the generic header files for the navigation bar at the top of every page as we will do. 
              </p>
              <p>Create in the templates folder a file called navbar.html. This will serve as our template which will be used across each page. The file code is shown below.</p>
        
              <pre><code class="language-html">
                &lt;!DOCTYPE html&gt;
        
                &lt;html&gt;
                    &lt;head&gt;
                        &lt;!--insert for css link later--&gt;
                    &lt;/head&gt;
                    &lt;body&gt;
                        &lt;div class="topnav"&gt;
                            &lt;a class="active" href="&lcub;&lcub; url_for('home') &rcub;&rcub;"&gt;Home&lt;/a&gt;
                            &lt;a href="&lcub;&lcub; url_for('cv') &rcub;&rcub;"&gt;CV&lt;/a&gt;
                            &lt;a href="&lcub;&lcub; url_for('project1') &rcub;&rcub;"&gt;Project 1&lt;/a&gt;
                            &lt;a href="&lcub;&lcub; url_for('project2') &rcub;&rcub;"&gt;Project 2&lt;/a&gt;
                          &lt;/div&gt;
        
                        &lt;div class = "container"&gt;
                            &lcub;%block content%&rcub;
                            &lcub;%endblock%&rcub;
                        &lt;/div&gt;
                    &lt;/body&gt;
        
                &lt;html&gt;
              </code></pre>
        
              <p>Each section is designed to be used throughout our webpage generically. We leave a line for the css file reference that we will create later in the
                head section. Next comes a simple navbar example (to learn more about html check out w3schools), however now we see a difference in code from standard html.
                Flask allows us to call python like code in our html files when inside curly brackets. In these cases when we click on each of the navbar buttons the
                  <code>url_for()</code> function is called which generates a url from the method included. <code>('home')</code> generates its route which is http://127.0.0.1:5000/.
              </p>
              <p>
                Finally, we create a container class which will allow us to insert our separate html files into this section.
              </p>
              <p>
                Now that the template is set-up, we can create our separate pages and fill them out with whatever content we need. For simplicity in the project I will just create
                a header with the page name and one sentance as shown below.
              </p>
              <p>
                The big change we can see to normal code is the inclusion of the extends, and the begining and ending code for the block. The extends function accesses our navbar file,
                then all code inside the content block is slotted inside the section created in the navbar file.
              </p>
        
              <pre><code class="language-html">
                &lcub;%extends "navbar.html"%&rcub;
                &lcub;%block content%&rcub;
                &lt;body&gt;
                    &lt;h1&gt;Home Page&lt;/h1&gt;
                    &lt;p&gt;Welcome to the home page&lt;/p&gt;
                &lt;/body&gt;
                &lcub;%endblock%&rcub;
              </code></pre>   
            </div>
        
            <div id="template-css" class="section level2">
              <h2>CSS File</h2>
              <p>
                The last bit of code that we need to write is the CSS file. The code below is a very basic css file to make the example look a little neater. Create a file
                in your static folder named generic.css. We will link to this from our navbar.html file.
              </p>
        
              <pre><code class="language-css">
                /* Formats all text */
                * {
                  font-family:verdana;
                }
        
                /* Formats the first header */
                h1 {
                  font-size: 25px;
                }
        
                /* Add a black background color to the top navigation */
                .topnav {
                    background-color: #333;
                    overflow: hidden;
                  }
                  
                  /* Style the links inside the navigation bar */
                  .topnav a {
                    float: left;
                    color: #f2f2f2;
                    text-align: center;
                    padding: 14px 16px;
                    text-decoration: none;
                    font-size: 17px;
                  }
                  
                  /* Change the color of links on hover */
                  .topnav a:hover {
                    background-color: #ddd;
                    color: black;
                  }
                  
                  /* Add a color to the active/current link */
                  .topnav a.active {
                    background-color: #3361c4;
                    color: white;
                  }
              </code></pre>
        
              <p style="font-weight: bold;">IMPORTANT: ADD THIS REFERENCE LINK TO THE NAVBAR.HTML FILE FOR THE CSS</p>
              <p>We add a standard reference to a css to make the page less sad looking. Again we use Flasks naming convention with the url_for which allows it to link to our 
                filepath.
              </p>
              
              <pre><code class="language-html">
                &lt;link rel="stylesheet" href="&lcub;&lcub;url_for('static', filename='generic.css')&rcub;&rcub;" type="text/css"&gt;
              </code></pre>   
            </div>
        
            <div id="wooooo" class="section level2" style="width: 90%; border: 15px solid coral; padding: 50px; margin: 20px; font-weight: bold;">
              <h2>Coding Finished!!</h2>
              <p>CONGRATULATIONS! That is all the coding needed to give a good demonstration. Don't worry if you are looking for more there are millions of ways to customise your page further. 
                All it takes is some quick google searches to really start diving deeper!
              </p>
            </div>
        
          <div id="running-the-code" class="section level1">
            <h1>Seeing the Results</h1>
            <div id="running the code" class="section level2">
              <h2>Setting up CMD</h2>
              <p>Time to put all that code into action. After learning how to run the code the world really is your oyster. Experimentation is key to learning more about web dev!</p>
              <p>
                Visual studio gives us built in features to run our code and flask provides a simple way of checking the code locally. In Visual studio in the top menu bar click terminal,
                new terminal if there isn't one already there. The working directory should be already set to our project folder (flask tutorial). Regardless of this we need to change
                the directory as our script.py file is a folder deeper in /mysite. As we have set-up our virtual environment to contain the packages we need we must run the script through 
                this environment. This is shown below.
              </p>
              <pre><code class="language-python">C:\your_standard_file_path\flask tutorial> virtual\Scripts\python mysite\script.py</code></pre>
        
              <p>
                We direct windows through the virtual environment folders to "python" which calls our installation of python. We then run the script named script.py that is one folder 
                deeper than the project folder. If you are having issues here check and make sure your filepath is set to the flask tutorial folder and you named your python file 
                script.py.
              </p>
              <p>Hopefully everything has went smoothly and you are now sitting with your very own local web page, woooo! My worked example is included below</p>
        
              <p><img src="../static/images/webpage-test.PNG" width="1200" class="center"></p>
            </div>
          </div>
        
          <div id="deploying-to-heroku" class="section level1">
            <h1>Ready for Deployment</h1>
            <p>While not entirely necessary at this point sometimes it feels good to know the full pipeline through to owning your own domain. I would suggest working a lot more 
              on the quality of your website filling out each section and then potentially coming back. The next section we will use Heroku to host our website for free. However,
              the heroku cli requires git is installed on your computer.
            </p>
            <div id="git" class="section level2">
              <h2>Setting up Git</h2>
              <p>GIT is a version control system that is widely used. It is software that tracks changes in sets of files on your computer. Once set-up we will use it to track  
                our files for the website and then send those files to heroku. Installing GIT is fairly straightforward and there is a lot of community help if you get stuck.
              </p>
              <p>Once GIT is installed you must now download the Heroku CLI. Again heroku provide a great tutorial on how to download their CLI. Once installed you will need to 
                create a free heroku account to launch your app (the webpage). The heroku tutorial really takes you through this process very well and explains how to login in 
                on your local machine. Once you believe you have both GIT and the CLI installed you can check Heroku using 
              </p>
              <pre><code class="language-python">C:\your_standard_file_path> heroku --version</code></pre>
              <p>This tutorial is using heroku/7.53.0. Given that you are already logged in to the heroku web page you can run the code below
                 to launch a new window in your default browser which will allow you to login locally.</p>
              <pre><code class="language-python">C:\your_standard_file_path> heroku login</code></pre>
              <p>On your heroku dashboard page there will be the option to create a new app follow this through with whatever domain name you prefer. Heroku will automatically
                check to make sure there are not duplicate names. Now we can head back to the command line. 
              </p>
              <pre><code class="language-python">C:\your_standard_file_path> heroku apps</code></pre>
              <p>Heroku apps allows us to see a list of what apps we currently have registered with heroku. Your new app name should appear hear.</p>
              <p>As mentioned we will send our files to Heroku through GIT. However, before we can send our current files Heroku requires three more small files.</p>
            </div>
            <div id="requirements" class="section level2">
              <h2>Heroku Requirements</h2>
              <p>Heroku requires three files for it to be able to run flask.</p>
              <ol>
                <li>Python packages list</li>
                <li>A Web Server Gateway Interface - gunicorn</li>
                <li>The version of python you are running - 3.9.7 for me</li>
              </ol>
              <div id="step1" class="section level3">
                <h3>Step 1 - Requirements.txt</h3>
                <p>
                  These files are all easy to get so don't panic if you don't understand the why. The requirements file is a text file containing the list of packages we have used 
                  to run the code. Heroku needs this to know what packages to make available for your app.
                </p>
                <p>
                  To get the list of packages we are using in the virtual environment we can run the code below in the terminal. As always check the file paths.
                </p>
                <pre><code class="language-python">C:\your_standard_file_path\flask tutorial> virtual\Scripts\pip freeze > requirements.txt</code></pre>
                <p>
                  We access the virtual folder and run pip freeze but instead of printing the packages we store them in a requirements text file. Move this file into the mysite
                  folder. Step 1 complete!
                </p>
              </div>
              <div id="step2" class="section level3">
                <h3>Step 2 - Procfile</h3>
                <p>In your mysite folder we now create a Procfile. Right click create a text file and name it Procfile. Make sure in the file explorer settings you enable 
                  file name extensions and Hidden items. Warning: do not edit hidden items they are just so you can see that they have been created but are hidden for a reason!
                </p>
                <p><img src="../static/images/fileexplorersetting.PNG" width="1200" class="center"></p>
                <p>In the text file we write the following line. <code>web: gunicorn script:app</code>. This lets Heroku know what web server to use to run the application, and then 
                we point heroku at the name of our instance, which in the script.py file we set as 'app'. We enable extensions as it allows us to take any off the end of the text file.
                You may get a warning however this is correct it should simply be Procfile with no extension.</p>
              </div>
              <div id="step3" class="section level3">
                <h3>Step 3 - Runtime</h3>
                <p>The third file simply requires the version of python that is currenlty being used. As checked from the start this tutorial is using python 3.9.7. As such we create a
                  .txt file named runtime with <code>python-3.9.7</code> inside it. All three of these files must be saved to the website folder (mysite), not the project folder. At the
                  time of writing this tutorial Heroku accepted multiple versions of python. To double check search for heroku supported python runtimes to ensure your version of python is
                  compatible.
                </p>
                <p>Great! now it is time to send the files to Heroku!</p>
              </div>
            </div>
        
            <div id="git-commands" class="section level2">
              <h2>Pushing the Files</h2>
              <p>
                The last stage of the process involves pushing the files to Heroku. As mentioned we use git to help with this process. To begin with initialise a git repository in the 
                mysite folder using the command below in the terminal.
              </p>
              <pre><code class="language-python">C:\your_standard_file_path\flask tutorial\mysite> git init</code></pre>
              <p>
                As long as your hidden items is activated you will be able to see the newly created folder and delete it if you should wish. The next four commands are repeated every time
                 you wish to make changes to your code and so I will put them in one block. Again each of these are run in the terminal.
              </p>
              <pre><code class="language-python">C:\your_standard_file_path\flask tutorial\mysite> git add .</code></pre>
              <pre><code class="language-python">C:\your_standard_file_path\flask tutorial\mysite> git commit -m "commit comment"</code></pre>
              <pre><code class="language-python">C:\your_standard_file_path\flask tutorial\mysite> heroku git:remote --app app_name_insert</code></pre>
              <pre><code class="language-python">C:\your_standard_file_path\flask tutorial\mysite> git push heroku master</code></pre>
              <p>
                The first line means add all files that have changed from the git folder, meaning it adds our changes. The second line submits these files with a comment. For example, if 
                you change css styling maybe that will be the comment. For your first commit, the comment may be as simple as first commmit. It is simply to keep track of commits. 
                The third line specifies which app you wish to send these changes to. If this is your first app this stage is uneccessary but it is good practice. The final line 
                sends the changes to Heroku for it to update.
              </p>
              <p>
                In the future when changes are made locally, repeat the four steps above and it will update the code on Heroku.
              </p>
            </div>
          </div>
        
            
          <div id="end" class="section level1">
            <h1>The End</h1>
            <p>Congratulations if you made it to the end of the tutorial and have managed to get a page hosted on Heroku. Hopefully you managed to learn a lot and can take this 
              basic framework and expand it. Good Luck.
            </p>
          </div>
        
        </body>
        
      </div>
      
    </section>

    <footer>
      <p>Author: Peter McClintock<br>
        <a href="{{ url_for('cv') }}" class="logo"><span class="fas fa-address-card"></span>  CV</a></p>
    </footer>

        
  </body>


</html>

